@model Product
@{
    var mainImage = Model.ProductImages?.FirstOrDefault(i => i.IsMain) ?? Model.ProductImages?.FirstOrDefault();
    var imageUrl = mainImage?.ImageUrl ?? Url.Content("~/images/no-image.svg");
}

<div class="card h-100">
    <a asp-controller="Products" asp-action="Details" asp-route-id="@Model.ProductId">
        <img src="@imageUrl" class="card-img-top" style="height:220px; object-fit:cover;" alt="@Model.Title" />
    </a>
    <div class="card-body d-flex flex-column">
        <h6 class="card-title mb-1">@Model.Title</h6>
        <p class="text-muted small mb-1">@Model.Author</p>
        <div class="mt-auto">
            <div class="d-flex justify-content-between align-items-center">
                <strong class="text-primary">@Model.Price.ToString("N0")â‚«</strong>
                <a class="btn btn-sm btn-outline-primary" asp-controller="Products" asp-action="Details" asp-route-id="@Model.ProductId">Xem</a>
            </div>
        </div>
    </div>
</div>
